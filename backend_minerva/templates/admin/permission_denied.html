{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}Acesso Negado - {{ site_title|default:"Django site admin" }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">⚓ Início</a> &rsaquo; Acesso Negado
</div>
{% endblock %}

{% block content %}
<div class="colM">
    <div style="text-align: center; padding: 50px 20px;">
        <div style="font-size: 80px; color: #dc3545; margin-bottom: 20px;">
            ⚠️
        </div>
        
        <h1 style="color: #004d7a; margin-bottom: 20px;">
            ⚓ Acesso Não Autorizado
        </h1>
        
        <div style="background: rgba(220, 53, 69, 0.1); border: 2px solid rgba(220, 53, 69, 0.3); border-radius: 10px; padding: 20px; margin: 20px auto; max-width: 600px; backdrop-filter: blur(5px);">
            <p style="font-size: 18px; color: #dc3545; margin-bottom: 15px;">
                <strong>🚫 Você não possui permissões para acessar esta área</strong>
            </p>
            
            <p style="color: #666; margin-bottom: 15px;">
                {{ message|default:"Seu usuário não está atribuído a nenhum grupo com permissões de acesso ao sistema administrativo." }}
            </p>
            
            <div style="background: rgba(0, 123, 255, 0.1); border: 1px solid rgba(0, 123, 255, 0.3); border-radius: 5px; padding: 15px; margin: 15px 0;">
                <h3 style="color: #007bff; margin: 0 0 10px 0; font-size: 16px;">
                    🔐 Como obter acesso:
                </h3>
                <ul style="text-align: left; color: #555; margin: 0; padding-left: 20px;">
                    <li>Entre em contato com o administrador do sistema</li>
                    <li>Solicite que seu usuário seja adicionado a um grupo apropriado</li>
                    <li>Aguarde a liberação das permissões necessárias</li>
                </ul>
            </div>
            
            {% if user.employee %}
            <div style="background: rgba(40, 167, 69, 0.1); border: 1px solid rgba(40, 167, 69, 0.3); border-radius: 5px; padding: 15px; margin: 15px 0;">
                <h3 style="color: #28a745; margin: 0 0 10px 0; font-size: 16px;">
                    👤 Suas informações:
                </h3>
                <p style="margin: 5px 0; color: #555;">
                    <strong>Funcionário:</strong> {{ user.employee.full_name }}<br>
                    <strong>Email:</strong> {{ user.email }}<br>
                    {% if user.employee.direction %}
                        <strong>Direção:</strong> {{ user.employee.direction.name }}<br>
                    {% endif %}
                    {% if user.employee.management %}
                        <strong>Gerência:</strong> {{ user.employee.management.name }}<br>
                    {% endif %}
                    {% if user.employee.coordination %}
                        <strong>Coordenação:</strong> {{ user.employee.coordination.name }}
                    {% endif %}
                </p>
            </div>
            {% endif %}
            
            <div style="margin-top: 30px;">
                <a href="{% url 'admin:logout' %}" style="display: inline-block; background: linear-gradient(135deg, #dc3545 0%, #c82333 100%); color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: 600; margin-right: 10px; box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3); transition: all 0.3s ease;">
                    🚪 Sair do Sistema
                </a>
                
                <a href="mailto:admin@empresa.com?subject=Solicitação de Acesso - Sistema Minerva&body=Olá, solicito acesso ao sistema administrativo Minerva.%0A%0AMeus dados:%0ANome: {{ user.employee.full_name|default:user.email }}%0AEmail: {{ user.email }}" 
                   style="display: inline-block; background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: 600; box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3); transition: all 0.3s ease;">
                    ✉️ Solicitar Acesso
                </a>
            </div>
        </div>
        
        <div style="margin-top: 40px; padding: 20px; background: rgba(0, 77, 122, 0.1); border-radius: 10px;">
            <h3 style="color: #004d7a; margin-bottom: 15px;">
                🏢 Hierarquia de Acesso do Sistema
            </h3>
            <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 15px;">
                <div style="background: #FFD700; color: white; padding: 8px 12px; border-radius: 5px; font-size: 12px; font-weight: bold;">
                    👑 PRESIDENTE
                </div>
                <div style="background: #007bff; color: white; padding: 8px 12px; border-radius: 5px; font-size: 12px; font-weight: bold;">
                    🎯 DIRETOR
                </div>
                <div style="background: #28a745; color: white; padding: 8px 12px; border-radius: 5px; font-size: 12px; font-weight: bold;">
                    📋 GERENTE
                </div>
                <div style="background: #fd7e14; color: white; padding: 8px 12px; border-radius: 5px; font-size: 12px; font-weight: bold;">
                    📌 COORDENADOR
                </div>
                <div style="background: #6c757d; color: white; padding: 8px 12px; border-radius: 5px; font-size: 12px; font-weight: bold;">
                    👤 FUNCIONÁRIO
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}